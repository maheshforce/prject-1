{"ast":null,"code":"import _slicedToArray from\"/home/mahesh/prject-1/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import Axios from'axios';import{useHistory}from\"react-router-dom\";import{Button}from'react-bootstrap';import'bootstrap/dist/css/bootstrap.min.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Home(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var history=useHistory();Axios.defaults.withCredentials=true;var onSubmit=function onSubmit(){Axios.get('http://192.168.47.144:9020/logout').then(function(response){if(response.data.logout){history.push('/');}});};useEffect(function(){Axios.get('http://192.168.47.144:9020/login').then(function(response){console.log(response.data.message);if(response.data.message==='logged'){setUser(response.data.session.user[0].mail);}else{history.push('/');}});//eslint-disable-next-line\n},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{onClick:onSubmit,children:\"Log out\"}),/*#__PURE__*/_jsx(\"p\",{children:user})]});}","map":{"version":3,"names":["React","useEffect","useState","Axios","useHistory","Button","jsx","_jsx","jsxs","_jsxs","Home","_useState","_useState2","_slicedToArray","user","setUser","history","defaults","withCredentials","onSubmit","get","then","response","data","logout","push","console","log","message","session","mail","children","onClick"],"sources":["/home/mahesh/prject-1/client/src/home.js"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport Axios from 'axios';\nimport { useHistory} from \"react-router-dom\";\nimport {Button} from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nexport default function Home() {\n    const [user, setUser] = useState('');\n    const history = useHistory();\n    \n\n    Axios.defaults.withCredentials = true;\n\n    const onSubmit = () => {\n        Axios.get('http://192.168.47.144:9020/logout').then((response) => {\n            if (response.data.logout) {\n                history.push('/');\n            }\n        })\n    }\n    \n    useEffect(() => {\n        \n        Axios.get('http://192.168.47.144:9020/login').then((response) => {\n            console.log(response.data.message);\n\n           \n            if (response.data.message === 'logged'){\n                setUser(response.data.session.user[0].mail);\n            }\n            else {\n                history.push('/');\n            }\n        })\n    //eslint-disable-next-line\n    }, []);\n    return (\n        <div>\n            <Button\n                onClick = {onSubmit}\n            >\n                Log out\n            </Button>\n            <p>{user}</p>\n        </div>\n        \n    )\n}\n"],"mappings":"kHAAA,MAAO,CAAAA,KAAK,EAAGC,SAAS,CAAEC,QAAQ,KAAO,OAAO,CAChD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,UAAU,KAAO,kBAAkB,CAC5C,OAAQC,MAAM,KAAO,iBAAiB,CACtC,MAAO,sCAAsC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE9C,cAAe,SAAS,CAAAC,IAAIA,CAAA,CAAG,CAC3B,IAAAC,SAAA,CAAwBT,QAAQ,CAAC,EAAE,CAAC,CAAAU,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA7BG,IAAI,CAAAF,UAAA,IAAEG,OAAO,CAAAH,UAAA,IACpB,GAAM,CAAAI,OAAO,CAAGZ,UAAU,CAAC,CAAC,CAG5BD,KAAK,CAACc,QAAQ,CAACC,eAAe,CAAG,IAAI,CAErC,GAAM,CAAAC,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAA,CAAS,CACnBhB,KAAK,CAACiB,GAAG,CAAC,mCAAmC,CAAC,CAACC,IAAI,CAAC,SAACC,QAAQ,CAAK,CAC9D,GAAIA,QAAQ,CAACC,IAAI,CAACC,MAAM,CAAE,CACtBR,OAAO,CAACS,IAAI,CAAC,GAAG,CAAC,CACrB,CACJ,CAAC,CAAC,CACN,CAAC,CAEDxB,SAAS,CAAC,UAAM,CAEZE,KAAK,CAACiB,GAAG,CAAC,kCAAkC,CAAC,CAACC,IAAI,CAAC,SAACC,QAAQ,CAAK,CAC7DI,OAAO,CAACC,GAAG,CAACL,QAAQ,CAACC,IAAI,CAACK,OAAO,CAAC,CAGlC,GAAIN,QAAQ,CAACC,IAAI,CAACK,OAAO,GAAK,QAAQ,CAAC,CACnCb,OAAO,CAACO,QAAQ,CAACC,IAAI,CAACM,OAAO,CAACf,IAAI,CAAC,CAAC,CAAC,CAACgB,IAAI,CAAC,CAC/C,CAAC,IACI,CACDd,OAAO,CAACS,IAAI,CAAC,GAAG,CAAC,CACrB,CACJ,CAAC,CAAC,CACN;AACA,CAAC,CAAE,EAAE,CAAC,CACN,mBACIhB,KAAA,QAAAsB,QAAA,eACIxB,IAAA,CAACF,MAAM,EACH2B,OAAO,CAAIb,QAAS,CAAAY,QAAA,CACvB,SAED,CAAQ,CAAC,cACTxB,IAAA,MAAAwB,QAAA,CAAIjB,IAAI,CAAI,CAAC,EACZ,CAAC,CAGd"},"metadata":{},"sourceType":"module","externalDependencies":[]}